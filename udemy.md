# Redshift

* スナップショット用に無料ストレージを提供している
* 容量の上限に達すると課金される

# Auto Scaling

* うまく実行されずに24時間以上経過した場合、途中でスケーリング処理が停止する

# S3

* ストレージゲートウェイのキャッシュ型ボリュームはローカルに高頻度アクセスデータをキャッシュしながらS3をプライマリとして使える
* 署名付きURLにより一時的な期限付きのアクセスができる
* プレフィックスを利用して日付ベースでアップロードを分散することができる
* 強い整合性モデルをもっているためデータ更新の反映に誤差は生じない
* MFA認証設定可能
* オブジェクトロックはバケット作成時にのみ設定可能
# Amazon Glacier 
* Flexible Retrieval
  * データ取得タイプにより取り出し速度が変わる
    * 迅速 1-5分
    * プロビジョニングキャパシティ 迅速取り出しの取得容量を必要なときに利用できることを保証する
    * 標準 3-5時間
    * 大容量 5-12時間
  * 管理方式
    * IAMポリシー
    * ボールトポリシー 
      * 組織内外のユーザに対してもアクセス権を付与
    * データ取り出しポリシー
      * 無料利用枠のみに制限、取り出しコストの上限を設定など
    * ボールトロックポリシー
      * ロックによって変更を禁止するなどできる
    * 署名


# Amazon ECS

* コンテナ化されたアプリケーションをかんたんにデプロイ、管理、スケールできる
* EC2インスタンスをコンテナに利用できるEC2起動モードとサーバレスコンピューティングサービスのFargate起動モードを選択できる
* Fargateはコンテナを実行するためにクラスタプロビジョニング、設計、スケールが不要
* セキュリティグループの反映はすぐに行われる
# EC2

* デフォルトではEC2インスタンスのパブリックIPはインスタンス停止後に開放される
* Elastic IPを設定するとIPは持続する
* VPCエンドポイントを使用するとインターネットを介さずにVPC内のサービスからVPC外のAWSサービスに接続できる
* S3にアクセスするためにゲートウェイエンドポイント,インターフェイスエンドポイントを使う
## ボリューム

* 汎用SSD
* プロビジョンドIOPS
  * 高I/O性能(NoSQLなど)
  * 10000IOPS
  * Nitroシステム,EBS最適化インスタンスタイプ
* スループット最適化HDD
  * ビッグデータ処理
  * DWH
  * 大規模なログ分析
  * ルートボリュームには使用不可
* コールドHDD
  * ログデータなど低アクセス頻度のもの
  * backup
  * ルートボリュームには使用不可
* マグネティック
  * 基本使わない

# IAM

* クロスアカウントアクセス
  * 特定のアカウントにある特定のリソースを別のアカウントのユーザと共有できる

# Route53

* ルーティングポリシー
  * 位置情報
  * 地理的近接性
    * リソースの場所に基づいてルーティング。
  * 複数値回答
    * いわゆるランダム
* CloudFrontなどのAWSリソースを使用する場合はAliasレコードを利用する

# Aurora

* Auroraレプリカを複数AZに配置できる
* プライマリインスタンスに障害が発生した時、レプリカが昇格する
* デフォルトでマルチAZクラスタ構成になっている

# DynamoDB

* オンデマンドモードがある。キャパシティを自動で調整できる
* プロビジョンドスループットモード
  * テーブルごとにRead/Writeに対して必要なするプットキャパシティを与える
* トランザクション機能でテーブルに対する一つのオペレーションとして複数の項目の追加更新削除が必要となるビジネスワークフローを管理できる

# RDS

* リードレプリカは非同期にレプリケーとされるのでラグがある

# AWS WAF
* FW
* リファラ制限などかけられる

# SQS
* FIFOキューはメッセージ順序を保証し、すくなくとも1回のメッセージ配信をサポート
* Amazon SNSのFIFOトピックを導入することで複数のサブスクライバーに厳密なメッセージの順序付けと重複削除ができる
* 負荷分散可能なキューイングサービス
  * 水平方向のスケーリングに役立つ
* 可視性タイムアウト
  * メッセージがコンシューマに受信された直後はメッセージはキューに残ったままになる、他のコンシューマがメッセージを処理しないように設定する
  * 可視性タイムアウト時間まで他のコンシューマは処理を行わないので時間を減らせば待ち時間を短縮できる
* キューに優先度を設定可能

# lambda
* APIゲートウェイと連携してHTTPでアクセスできるようにできる
* 関数URLを指定してHTTPでこうかいすることもできる
* デッドレターキュー 実行に失敗したメッセージをSQSにためる

# Amazon Kinesis Data Streams
* パフォーマンス調整としてリシャーディングが備わっている
  * シャードを分割、結合する
  * シャード単位で請求されるので分割するとコストが上がる

* ホットシャード、予想よりも遥かに多くのデータを受信するシャード
* コールドシャード、遥かに少ない