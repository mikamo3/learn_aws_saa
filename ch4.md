# 4-1 責任共有モデル

AWSはAWSが提供するインフラの保護に責任を持つ

ユーザはAWS各種設定の管理と運用に責任を持つ

ユーザが行う責任担保を強化するツールは以下

* CloudTrail(監査)
* セキュリティグループ(FW)
* WAF(アプリケーション保護)
* KMS (データ暗号化鍵管理)

# 4-2 AWSの権限管理

AWSアカウント作成時最初に発行されるのはルートアカウント

* 通常利用は推奨されない
* かわりにIAMユーザを使う

IAMユーザは個人、サービスごとに発行される

IAMグループはIAMユーザを束ねる

グループに対してIAMポリシーを付与できる

ネストした構造にはできない

IAMポリシーはIAMユーザ、グループのアクセス許可、制限を設定できる

マネージドポリシーというデフォルトプロファイルみたいなのがある

CLI,SDK,サービスを使うときはIAMユーザでアクセスキーとシークレットキーを発行する

以下のとおり管理する

* 必要最小限の権限
* 定期的にキーをローテーション
* コードにハードコードせずIAMロールを使う

IAMロールはサービスやEC2のアプリに対してAWSのリソース操作権限を付与するための仕組み

ハードコードする必要がないため漏洩リスクを減らせる

複数のアカウントのAWSリソースを使う場合はクロスアカウントアクセスを使う

IDFederation SAMLは企業などで採用されている認証の仕組みとAWSの認証を紐付ける

LDAP,ADなど

# 4-3 AWSのセキュリティ管理

CloudTrailでアカウントのガバナンス、コンプライアンス、運用とリスクの監査の支援を行う

いつ、だれが何の操作をしたかわかる

そのためアカウントは個人ごとに分ける

保存先はS3

TrustedAdvisorはベストプラクティスに沿っているか視覚的に確認ができる